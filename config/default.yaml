# ALFWorld Evaluation Configuration

# LLM Service Configuration
llm:
  api_base_url: "https://openrouter.ai/api/v1"
  api_key: "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"
  model: "qwen/qwen-2.5-72b-instruct"
  temperature: 0.3
  max_tokens: 1024
  timeout: 60
  # Model-specific extra parameters (passed via extra_body to API)
  # Used for non-standard parameters like vLLM's enable_thinking
  #
  # Qwen3 + vLLM (https://huggingface.co/Qwen/Qwen3-8B):
  #   enable_thinking: true   # Enable thinking mode for complex reasoning
  #   thinking_budget: 1024   # Max tokens for thinking (optional)
  #   # Recommended: temperature=0.6, top_p=0.95 for thinking mode
  #   # Recommended: temperature=0.7, top_p=0.8 for non-thinking mode
  #
  extra_params: {}
  # extra_params:
  #   enable_thinking: true

# Retry Configuration
retry:
  max_retries: 3
  retry_interval: 1.0
  max_retry_interval: 8.0

# Test Configuration
test:
  num_games: 3
  task_types: null # null means all types, or list like [1, 2, 3, 4, 5, 6]
  split: "valid_seen"
  seed: 42
  max_steps: 30

# Prompt Configuration
prompt:
  use_few_shot: true
  history_length: 30

# Runtime Configuration
runtime:
  save_interval: 1
  output_dir: "results"
  debug: true

# Data Configuration
data:
  alfworld_data_path: "./alfworld_data"

# Memory Configuration (ReasoningBank)
memory:
  enabled: true
  mode: "retrieve_and_extract" # baseline | retrieve_only | retrieve_and_extract

  # Storage configuration
  memory_dir: "memory_banks"
  task_name: "alfworld"

  # Embedding model configuration
  embedding_model: "BAAI/bge-base-en-v1.5"
  embedding_device: "cpu"

  # Retrieval parameters
  top_k: 1
  similarity_threshold: 0.5

  # MaTTS configuration (Memory-aware Test-Time Scaling)
  matts:
    enabled: false
    sample_n: 3
    temperature: 0.7
    max_tokens: 1024
